(()=>{"use strict";var e,t={980:()=>{const e=window.React,{__}=wp.i18n,{registerBlockType:t}=wp.blocks,{MediaUpload:i,InspectorControls:r}=wp.blockEditor,{Button:s,PanelRow:o,PanelBody:l,ToggleControl:n,RangeControl:a,SelectControl:d,TextControl:p}=wp.components,w=800,c=["application/pdf"];t("pdfjsblock/pdfjs-embed",{title:__("Embed PDF.js Viewer","pdfjs-viewer-shortcode"),icon:"media-document",category:"common",attributes:{imageURL:{type:"string"},imgID:{type:"number"},imgTitle:{type:"string",default:"PDF File"},showDownload:{type:"boolean",default:!!window.pdfjs_options.pdfjs_download_button},showPrint:{type:"boolean",default:!!window.pdfjs_options.pdfjs_print_button},showFullscreen:{type:"boolean",default:!!window.pdfjs_options.pdfjs_fullscreen_link},openFullscreen:{type:"boolean",default:!!window.pdfjs_options.pdfjs_fullscreen_link_target},fullscreenText:{type:"string",default:window.pdfjs_options.pdfjs_fullscreen_link_text?window.pdfjs_options.pdfjs_fullscreen_link_text:"View Fullscreen"},viewerHeight:{type:"number",default:window.pdfjs_options.pdfjs_embed_height?Number(window.pdfjs_options.pdfjs_embed_height):800},viewerWidth:{type:"number",default:window.pdfjs_options.pdfjs_embed_width?Number(window.pdfjs_options.pdfjs_embed_width):0},viewerScale:{type:"string",default:window.pdfjs_options.pdfjs_viewer_scale?window.pdfjs_options.pdfjs_viewer_scale:"auto"}},keywords:[__("PDF Selector","pdfjs-viewer-shortcode")],edit(t){const d=window.pdfjs_options&&window.pdfjs_options.pdfjs_viewer_url?window.pdfjs_options.pdfjs_viewer_url:null,u=t.attributes.imageURL?d?`${d}?file=${encodeURIComponent(t.attributes.imageURL)}&attachment_id=${t.attributes.imgID}`:t.attributes.imageURL:"",h=void 0===t.attributes.viewerWidth||0===t.attributes.viewerWidth?"100%":`${t.attributes.viewerWidth}px`;return[(0,e.createElement)(r,{key:"i1"},(0,e.createElement)(l,{title:__("PDF.js Options","pdfjs-viewer-shortcode")},(0,e.createElement)(o,null,(0,e.createElement)(n,{label:__("Show Save Option","pdfjs-viewer-shortcode"),help:t.attributes.showDownload?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showDownload,onChange:e=>{t.setAttributes({showDownload:e})}})),(0,e.createElement)(o,null,(0,e.createElement)(n,{label:__("Show Print Option","pdfjs-viewer-shortcode"),help:t.attributes.showPrint?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showPrint,onChange:e=>{t.setAttributes({showPrint:e})}})),(0,e.createElement)(o,null,(0,e.createElement)(n,{label:__("Show Fullscreen Option","pdfjs-viewer-shortcode"),help:t.attributes.showFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showFullscreen,onChange:e=>{t.setAttributes({showFullscreen:e})}})),(0,e.createElement)(o,null,(0,e.createElement)(n,{label:__("Open Fullscreen in new tab?","pdfjs-viewer-shortcode"),help:t.attributes.openFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.openFullscreen,onChange:e=>{t.setAttributes({openFullscreen:e})}})),(0,e.createElement)(o,null,(0,e.createElement)(p,{label:"Fullscreen Text",value:t.attributes.fullscreenText,onChange:e=>{e=e.replace(/(<([^>]+)>)/gi,""),t.setAttributes({fullscreenText:e})}}))),(0,e.createElement)(l,{title:__("Embed Height","pdfjs-viewer-shortcode")},(0,e.createElement)(a,{label:__("Viewer Height (pixels)","pdfjs-viewer-shortcode"),value:t.attributes.viewerHeight,onChange:e=>{void 0===e&&(e=w),t.setAttributes({viewerHeight:e})},min:0,max:5e3,allowReset:!0,initialPosition:w})),(0,e.createElement)(l,{title:__("Embed Width","pdfjs-viewer-shortcode")},(0,e.createElement)(a,{label:__("Viewer Width (pixels)","pdfjs-viewer-shortcode"),help:"By default 0 will be 100%.",value:t.attributes.viewerWidth,onChange:e=>{void 0===e&&(e=0),t.setAttributes({viewerWidth:e})},min:0,max:5e3,allowReset:!0,initialPosition:0}))),(0,e.createElement)("div",{className:"pdfjs-wrapper components-placeholder",key:"i2",style:{height:t.attributes.viewerHeight}},(0,e.createElement)("div",null,(0,e.createElement)("strong",null,__("PDF.js Embed","pdfjs-viewer-shortcode")),"  -  ",(0,e.createElement)("span",{className:"pdfjs-title"},t.attributes.imgTitle?t.attributes.imgTitle:"Choose a PDF file"),"  -  ",t.attributes.imageURL?(0,e.createElement)(s,{className:"pdfjs-button",onClick:()=>{t.setAttributes({imageURL:null,imgID:null,imgTitle:null})}},__("Remove PDF","pdfjs-viewer-shortcode")):(0,e.createElement)(i,{onSelect:e=>{t.setAttributes({imageURL:e.url,imgID:e.id,imgTitle:e.title})},allowedTypes:c,value:t.attributes.imgID,render:({open:t})=>(0,e.createElement)(s,{className:"pdfjs-button",onClick:t},__("Choose a PDF file","pdfjs-viewer-shortcode"))})),t.attributes.imageURL?(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)("div",{className:"pdfjs-preview",width:h||"100%",style:{maxWidth:"100%"},height:t.attributes.viewerHeight||w},(0,e.createElement)("iframe",{src:u,width:h,height:t.attributes.viewerHeight||w,className:"pdfjs-iframe-editor",title:"PDF preview",style:{border:"1px solid #ddd",maxWidth:"100%"}}))):null)]},save:t=>(0,e.createElement)("div",{className:"pdfjs-wrapper"},`[pdfjs-viewer attachment_id=${t.attributes.imgID} url=${t.attributes.imageURL} viewer_width=${void 0!==t.attributes.viewerWidth?t.attributes.viewerWidth:0} viewer_height=${void 0!==t.attributes.viewerHeight?t.attributes.viewerHeight:w} url=${t.attributes.imageURL} download=${t.attributes.showDownload.toString()} print=${t.attributes.showPrint.toString()} fullscreen=${t.attributes.showFullscreen.toString()} fullscreen_target=${t.attributes.openFullscreen.toString()} fullscreen_text="${t.attributes.fullscreenText}" zoom=${t.attributes.viewerScale.toString()}  ]`)})}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,i,s,o)=>{if(!i){var l=1/0;for(p=0;p<e.length;p++){for(var[i,s,o]=e[p],n=!0,a=0;a<i.length;a++)(!1&o||l>=o)&&Object.keys(r.O).every(e=>r.O[e](i[a]))?i.splice(a--,1):(n=!1,o<l&&(l=o));if(n){e.splice(p--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[i,s,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var s,o,[l,n,a]=i,d=0;if(l.some(t=>0!==e[t])){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(a)var p=a(r)}for(t&&t(i);d<l.length;d++)o=l[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(p)},i=globalThis.webpackChunkpdf_js_viewer_shortcode=globalThis.webpackChunkpdf_js_viewer_shortcode||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=r.O(void 0,[350],()=>r(980));s=r.O(s)})();