(()=>{"use strict";var e,t={435:()=>{const e=window.ReactJSXRuntime,{__}=wp.i18n,{registerBlockType:t}=wp.blocks,{MediaUpload:i,InspectorControls:r}=wp.blockEditor,{Button:s,PanelRow:o,PanelBody:l,ToggleControl:a,RangeControl:d,SelectControl:n,TextControl:h}=wp.components,u=800,c=["application/pdf"],p=window.pdfjs_options||{};t("pdfjsblock/pdfjs-embed",{title:__("Embed PDF.js Viewer","pdfjs-viewer-shortcode"),icon:"media-document",category:"common",attributes:{imageURL:{type:"string"},imgID:{type:"number"},imgTitle:{type:"string",default:"PDF File"},showDownload:{type:"boolean",default:!!p.pdfjs_download_button},showPrint:{type:"boolean",default:!!p.pdfjs_print_button},showFullscreen:{type:"boolean",default:!!p.pdfjs_fullscreen_link},openFullscreen:{type:"boolean",default:!!p.pdfjs_fullscreen_link_target},fullscreenText:{type:"string",default:p.pdfjs_fullscreen_link_text||"View Fullscreen"},viewerHeight:{type:"number",default:p.pdfjs_embed_height?Number(p.pdfjs_embed_height):800},viewerWidth:{type:"number",default:p.pdfjs_embed_width?Number(p.pdfjs_embed_width):0},viewerScale:{type:"string",default:p.pdfjs_viewer_scale||"auto"}},keywords:[__("PDF Selector","pdfjs-viewer-shortcode")],edit(t){const n=p.pdfjs_viewer_url||null;let w="";t.attributes.imageURL&&n?w=`${n}?${new URLSearchParams({file:t.attributes.imageURL,attachment_id:t.attributes.imgID||"",dButton:t.attributes.showDownload?"true":"false",pButton:t.attributes.showPrint?"true":"false",zoom:t.attributes.viewerScale||"auto"}).toString()}`:t.attributes.imageURL&&(w=t.attributes.imageURL);const b=void 0===t.attributes.viewerWidth||0===t.attributes.viewerWidth?"100%":`${t.attributes.viewerWidth}px`;return[(0,e.jsxs)(r,{children:[(0,e.jsxs)(l,{title:__("PDF.js Options","pdfjs-viewer-shortcode"),children:[(0,e.jsx)(o,{children:(0,e.jsx)(a,{label:__("Show Save Option","pdfjs-viewer-shortcode"),help:t.attributes.showDownload?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showDownload,onChange:e=>{t.setAttributes({showDownload:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(a,{label:__("Show Print Option","pdfjs-viewer-shortcode"),help:t.attributes.showPrint?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showPrint,onChange:e=>{t.setAttributes({showPrint:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(a,{label:__("Show Fullscreen Option","pdfjs-viewer-shortcode"),help:t.attributes.showFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showFullscreen,onChange:e=>{t.setAttributes({showFullscreen:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(a,{label:__("Open Fullscreen in new tab?","pdfjs-viewer-shortcode"),help:t.attributes.openFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.openFullscreen,onChange:e=>{t.setAttributes({openFullscreen:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(h,{label:"Fullscreen Text",value:t.attributes.fullscreenText,onChange:e=>{e=e.replace(/(<([^>]+)>)/gi,""),t.setAttributes({fullscreenText:e})}})})]}),(0,e.jsx)(l,{title:__("Embed Height","pdfjs-viewer-shortcode"),children:(0,e.jsx)(d,{label:__("Viewer Height (pixels)","pdfjs-viewer-shortcode"),value:t.attributes.viewerHeight,onChange:e=>{void 0===e&&(e=u),t.setAttributes({viewerHeight:e})},min:0,max:5e3,allowReset:!0,initialPosition:u})}),(0,e.jsx)(l,{title:__("Embed Width","pdfjs-viewer-shortcode"),children:(0,e.jsx)(d,{label:__("Viewer Width (pixels)","pdfjs-viewer-shortcode"),help:"By default 0 will be 100%.",value:t.attributes.viewerWidth,onChange:e=>{void 0===e&&(e=0),t.setAttributes({viewerWidth:e})},min:0,max:5e3,allowReset:!0,initialPosition:0})})]},"i1"),(0,e.jsxs)("div",{className:"pdfjs-wrapper",children:[(0,e.jsxs)("div",{className:"pdfjs-header",children:[(0,e.jsx)("strong",{children:__("PDF.js Embed","pdfjs-viewer-shortcode")}),"  -  ",(0,e.jsx)("span",{className:"pdfjs-title",children:t.attributes.imgTitle?t.attributes.imgTitle:"Choose a PDF file"}),"  -  ",t.attributes.imageURL?(0,e.jsx)(s,{className:"pdfjs-button",onClick:()=>{t.setAttributes({imageURL:null,imgID:null,imgTitle:null})},"aria-label":__("Remove the current PDF file","pdfjs-viewer-shortcode"),children:__("Remove PDF","pdfjs-viewer-shortcode")}):(0,e.jsx)(i,{onSelect:e=>{t.setAttributes({imageURL:e.url,imgID:e.id,imgTitle:e.title})},allowedTypes:c,value:t.attributes.imgID,render:({open:t})=>(0,e.jsx)(s,{className:"pdfjs-button",onClick:t,"aria-label":__("Open media library to choose a PDF file","pdfjs-viewer-shortcode"),children:__("Choose a PDF file","pdfjs-viewer-shortcode")})})]}),t.attributes.imageURL?(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsxs)("div",{className:"pdfjs-preview",width:b||"100%",style:{maxWidth:"100%"},height:t.attributes.viewerHeight||u,role:"region","aria-label":__("PDF Preview","pdfjs-viewer-shortcode"),children:[(0,e.jsx)("div",{className:"pdfjs-preview-link",children:"true"===t.attributes.showFullscreen.toString()&&t.attributes.fullscreenText}),(0,e.jsx)("iframe",{src:w,width:b,height:t.attributes.viewerHeight||u,className:"pdfjs-iframe-editor",title:t.attributes.imgTitle||__("PDF Preview","pdfjs-viewer-shortcode"),"aria-label":t.attributes.imgTitle?`${__("PDF document preview","pdfjs-viewer-shortcode")}: ${t.attributes.imgTitle}`:__("PDF document preview","pdfjs-viewer-shortcode"),tabIndex:"0",style:{border:"1px solid #ddd",maxWidth:"100%"}})]})}):null]},"i2")]},save:t=>(0,e.jsx)("div",{className:"pdfjs-wrapper",children:`[pdfjs-viewer attachment_id=${t.attributes.imgID} url=${t.attributes.imageURL} viewer_width=${void 0!==t.attributes.viewerWidth?t.attributes.viewerWidth:0} viewer_height=${void 0!==t.attributes.viewerHeight?t.attributes.viewerHeight:u} url=${t.attributes.imageURL} download=${t.attributes.showDownload.toString()} print=${t.attributes.showPrint.toString()} fullscreen=${t.attributes.showFullscreen.toString()} fullscreen_target=${t.attributes.openFullscreen.toString()} fullscreen_text="${t.attributes.fullscreenText}" zoom=${t.attributes.viewerScale.toString()}  ]`})})}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,i,s,o)=>{if(!i){var l=1/0;for(h=0;h<e.length;h++){for(var[i,s,o]=e[h],a=!0,d=0;d<i.length;d++)(!1&o||l>=o)&&Object.keys(r.O).every(e=>r.O[e](i[d]))?i.splice(d--,1):(a=!1,o<l&&(l=o));if(a){e.splice(h--,1);var n=s();void 0!==n&&(t=n)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,s,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var s,o,[l,a,d]=i,n=0;if(l.some(t=>0!==e[t])){for(s in a)r.o(a,s)&&(r.m[s]=a[s]);if(d)var h=d(r)}for(t&&t(i);n<l.length;n++)o=l[n],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(h)},i=globalThis.webpackChunkpdf_js_viewer_shortcode=globalThis.webpackChunkpdf_js_viewer_shortcode||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=r.O(void 0,[350],()=>r(435));s=r.O(s)})();