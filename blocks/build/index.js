(()=>{"use strict";var e,t={435:()=>{const e=window.ReactJSXRuntime,{__}=wp.i18n,{registerBlockType:t}=wp.blocks,{MediaUpload:i,InspectorControls:s}=wp.blockEditor,{Button:r,PanelRow:o,PanelBody:l,ToggleControl:d,RangeControl:n,SelectControl:a,TextControl:h}=wp.components,u=800,c=["application/pdf"],p=window.pdfjs_options||{};t("pdfjsblock/pdfjs-embed",{title:__("Embed PDF.js Viewer","pdfjs-viewer-shortcode"),icon:"media-document",category:"common",attributes:{imageURL:{type:"string"},imgID:{type:"number"},imgTitle:{type:"string",default:"PDF File"},showDownload:{type:"boolean",default:!!p.pdfjs_download_button},showPrint:{type:"boolean",default:!!p.pdfjs_print_button},showFullscreen:{type:"boolean",default:!!p.pdfjs_fullscreen_link},openFullscreen:{type:"boolean",default:!!p.pdfjs_fullscreen_link_target},fullscreenText:{type:"string",default:p.pdfjs_fullscreen_link_text||"View Fullscreen"},viewerHeight:{type:"number",default:p.pdfjs_embed_height?Number(p.pdfjs_embed_height):800},viewerWidth:{type:"number",default:p.pdfjs_embed_width?Number(p.pdfjs_embed_width):0},viewerScale:{type:"string",default:p.pdfjs_viewer_scale||"auto"}},keywords:[__("PDF Selector","pdfjs-viewer-shortcode")],edit(t){const a=p.pdfjs_viewer_url||null;let w="";t.attributes.imageURL&&a?w=`${a}?${new URLSearchParams({file:t.attributes.imageURL,attachment_id:t.attributes.imgID||"",dButton:t.attributes.showDownload?"true":"false",pButton:t.attributes.showPrint?"true":"false",zoom:t.attributes.viewerScale||"auto"}).toString()}`:t.attributes.imageURL&&(w=t.attributes.imageURL);const b=void 0===t.attributes.viewerWidth||0===t.attributes.viewerWidth?"100%":`${t.attributes.viewerWidth}px`;return[(0,e.jsxs)(s,{children:[(0,e.jsxs)(l,{title:__("PDF.js Options","pdfjs-viewer-shortcode"),children:[(0,e.jsx)(o,{children:(0,e.jsx)(d,{label:__("Show Save Option","pdfjs-viewer-shortcode"),help:t.attributes.showDownload?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showDownload,onChange:e=>{t.setAttributes({showDownload:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(d,{label:__("Show Print Option","pdfjs-viewer-shortcode"),help:t.attributes.showPrint?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showPrint,onChange:e=>{t.setAttributes({showPrint:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(d,{label:__("Show Fullscreen Option","pdfjs-viewer-shortcode"),help:t.attributes.showFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.showFullscreen,onChange:e=>{t.setAttributes({showFullscreen:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(d,{label:__("Open Fullscreen in new tab?","pdfjs-viewer-shortcode"),help:t.attributes.openFullscreen?__("Yes","pdfjs-viewer-shortcode"):__("No","pdfjs-viewer-shortcode"),checked:t.attributes.openFullscreen,onChange:e=>{t.setAttributes({openFullscreen:e})}})}),(0,e.jsx)(o,{children:(0,e.jsx)(h,{label:"Fullscreen Text",value:t.attributes.fullscreenText,onChange:e=>{e=e.replace(/(<([^>]+)>)/gi,""),t.setAttributes({fullscreenText:e})}})})]}),(0,e.jsx)(l,{title:__("Embed Height","pdfjs-viewer-shortcode"),children:(0,e.jsx)(n,{label:__("Viewer Height (pixels)","pdfjs-viewer-shortcode"),value:t.attributes.viewerHeight,onChange:e=>{void 0===e&&(e=u),t.setAttributes({viewerHeight:e})},min:0,max:5e3,allowReset:!0,initialPosition:u})}),(0,e.jsx)(l,{title:__("Embed Width","pdfjs-viewer-shortcode"),children:(0,e.jsx)(n,{label:__("Viewer Width (pixels)","pdfjs-viewer-shortcode"),help:"By default 0 will be 100%.",value:t.attributes.viewerWidth,onChange:e=>{void 0===e&&(e=0),t.setAttributes({viewerWidth:e})},min:0,max:5e3,allowReset:!0,initialPosition:0})})]},"i1"),(0,e.jsxs)("div",{className:"pdfjs-wrapper components-placeholder",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:__("PDF.js Embed","pdfjs-viewer-shortcode")}),"  -  ",(0,e.jsx)("span",{className:"pdfjs-title",children:t.attributes.imgTitle?t.attributes.imgTitle:"Choose a PDF file"}),"  -  ",t.attributes.imageURL?(0,e.jsx)(r,{className:"pdfjs-button",onClick:()=>{t.setAttributes({imageURL:null,imgID:null,imgTitle:null})},children:__("Remove PDF","pdfjs-viewer-shortcode")}):(0,e.jsx)(i,{onSelect:e=>{t.setAttributes({imageURL:e.url,imgID:e.id,imgTitle:e.title})},allowedTypes:c,value:t.attributes.imgID,render:({open:t})=>(0,e.jsx)(r,{className:"pdfjs-button",onClick:t,children:__("Choose a PDF file","pdfjs-viewer-shortcode")})})]}),t.attributes.imageURL?(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsx)("div",{className:"pdfjs-preview",width:b||"100%",style:{maxWidth:"100%"},height:t.attributes.viewerHeight||u,children:(0,e.jsx)("iframe",{src:w,width:b,height:t.attributes.viewerHeight||u,className:"pdfjs-iframe-editor",title:"PDF preview",style:{border:"1px solid #ddd",maxWidth:"100%"}})})}):null]},"i2")]},save:t=>(0,e.jsx)("div",{className:"pdfjs-wrapper",children:`[pdfjs-viewer attachment_id=${t.attributes.imgID} url=${t.attributes.imageURL} viewer_width=${void 0!==t.attributes.viewerWidth?t.attributes.viewerWidth:0} viewer_height=${void 0!==t.attributes.viewerHeight?t.attributes.viewerHeight:u} url=${t.attributes.imageURL} download=${t.attributes.showDownload.toString()} print=${t.attributes.showPrint.toString()} fullscreen=${t.attributes.showFullscreen.toString()} fullscreen_target=${t.attributes.openFullscreen.toString()} fullscreen_text="${t.attributes.fullscreenText}" zoom=${t.attributes.viewerScale.toString()}  ]`})})}},i={};function s(e){var r=i[e];if(void 0!==r)return r.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,i,r,o)=>{if(!i){var l=1/0;for(h=0;h<e.length;h++){for(var[i,r,o]=e[h],d=!0,n=0;n<i.length;n++)(!1&o||l>=o)&&Object.keys(s.O).every(e=>s.O[e](i[n]))?i.splice(n--,1):(d=!1,o<l&&(l=o));if(d){e.splice(h--,1);var a=r();void 0!==a&&(t=a)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,r,o]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var r,o,[l,d,n]=i,a=0;if(l.some(t=>0!==e[t])){for(r in d)s.o(d,r)&&(s.m[r]=d[r]);if(n)var h=n(s)}for(t&&t(i);a<l.length;a++)o=l[a],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(h)},i=globalThis.webpackChunkpdf_js_viewer_shortcode=globalThis.webpackChunkpdf_js_viewer_shortcode||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=s.O(void 0,[350],()=>s(435));r=s.O(r)})();